<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i h·ªçc Ti·∫øng Trung To√†n Di·ªán: ‰Ω†Â•Ω</title>

    <!-- PH·∫¶N CSS ƒê∆Ø·ª¢C NH√öNG TR·ª∞C TI·∫æP -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&family=Roboto:ital,wght@0,400;0,700;1,400&display=swap');

        :root {
            --primary-color: #0056b3;
            --secondary-color: #007bff;
            --background-color: #f8f9fa;
            --surface-color: #ffffff;
            --text-color: #333;
            --subtle-text-color: #6c757d;
            --table-border-color: #dee2e6;
            --table-header-bg: #e9ecef;
        }

        body { font-family: 'Roboto', sans-serif; line-height: 1.8; background-color: var(--background-color); color: var(--text-color); margin: 0; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; background-color: var(--surface-color); padding: 2rem 3rem; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
        
        /* Logic ·∫©n/hi·ªán chi ti·∫øt (Pinyin & Vietnamese) */
        .details-hidden .pinyin, .details-hidden .vietnamese { display: none; }

        h1, h2, h3, h4 { font-family: 'Roboto', 'Noto Sans SC', sans-serif; font-weight: 700; color: var(--primary-color); }
        h1 { text-align: center; border-bottom: 2px solid #dee2e6; padding-bottom: 10px; margin-bottom: 5px; }
        p.subtitle { text-align: center; color: var(--subtle-text-color); margin-top: 0; margin-bottom: 2rem; font-style: italic; }
        section { margin-bottom: 2.5rem; padding-bottom: 1.5rem; border-bottom: 1px dashed #ccc; }
        section:last-child { border-bottom: none; }

        .controls { display: flex; gap: 10px; margin-bottom: 2rem; padding: 1rem; background-color: #e9ecef; border-radius: 8px; justify-content: center; }

        button { border: none; padding: 10px 15px; border-radius: 5px; cursor: pointer; font-size: 1rem; font-weight: bold; transition: background-color 0.2s, transform 0.1s; }
        button:active { transform: scale(0.98); }

        #toggle-details-btn { background-color: #ffc107; color: #333; }
        .read-aloud-btn { background-color: #17a2b8; color: white; margin-top: 1rem; }
        #toggle-answers-btn { background-color: #28a745; color: white; }

        .instructions { background-color: #e7f3ff; border-left: 5px solid var(--secondary-color); padding: 10px 20px; margin: 2rem 0; border-radius: 5px; }
        .instructions ul { padding-left: 20px; margin: 0; }

        .chinese-text { display: inline-block; }
        .chinese-text .word { font-family: 'Noto Sans SC', sans-serif; font-size: 1.5rem; cursor: pointer; padding: 2px 4px; border-radius: 4px; transition: background-color 0.2s, color 0.2s; display: inline-block; margin: 0 1px; }
        .chinese-text .word:hover { background-color: var(--secondary-color); color: #fff; }
        .chinese-text[data-sentence] { cursor: pointer; padding: 5px; border-radius: 5px; transition: background-color 0.2s; }
        .chinese-text[data-sentence]:hover { background-color: #f0f8ff; }

        .pinyin, .vietnamese { transition: all 0.3s ease; }
        .pinyin { font-style: italic; color: #555; margin-top: -5px; margin-bottom: 5px; display: block; }
        .vietnamese { color: var(--subtle-text-color); margin-top: -5px; font-size: 0.9em; display: block; }

        .content-item { margin-bottom: 1.5rem; border-left: 3px solid #e9ecef; padding-left: 15px; }
        
        /* === CSS M·ªöI CHO B·∫¢NG === */
        .pronoun-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            font-size: 1.1rem;
        }
        .pronoun-table th, .pronoun-table td {
            border: 1px solid var(--table-border-color);
            padding: 12px;
            text-align: center;
            vertical-align: middle;
        }
        .pronoun-table th {
            background-color: var(--table-header-bg);
            font-weight: bold;
        }
        .pronoun-table td .chinese-text { font-size: 1.8rem; margin-bottom: 5px; }

        .answers { display: none; margin-top: 15px; padding: 15px; background-color: #f1f3f5; border-radius: 5px; }
        .answers.visible { display: block; }
    </style>
</head>
<body>

    <div class="container">
        <h1 class="chinese-text" data-sentence><span class="word">Âü∫</span><span class="word">Á°Ä</span><span class="word">Ê±â</span><span class="word">ËØ≠</span><span class="word">Á¨¨</span><span class="word">‰∏Ä</span><span class="word">ËØæ</span><span class="word">Ôºö</span><span class="word">‰Ω†</span><span class="word">Â•Ω</span></h1>
        <p class="pinyin">(Jƒ´ch«î h√†ny«î d√¨ yƒ´ k√®: N«ê h«éo)</p>
        <p class="subtitle">B√†i h·ªçc Ti·∫øng Trung C∆° b·∫£n: Xin ch√†o</p>

        <div class="controls">
            <button id="toggle-details-btn">·∫®n Chi Ti·∫øt (Pinyin & D·ªãch)</button>
        </div>
        
        <div class="instructions">
            <p>üí° <strong>H∆∞·ªõng d·∫´n:</strong></p>
            <ul>
                <li>B·∫•m v√†o <strong>t·ª´ng t·ª´</strong> ti·∫øng Trung ƒë·ªÉ nghe.</li>
                <li>B·∫•m v√†o <strong>khung ch·ª©a c√¢u/c·ª•m t·ª´</strong> ƒë·ªÉ nghe c·∫£ c√¢u/c·ª•m.</li>
                <li>S·ª≠ d·ª•ng n√∫t <strong>"·∫®n Chi Ti·∫øt"</strong> ƒë·ªÉ t·ª± ki·ªÉm tra kh·∫£ nƒÉng nh·∫≠n di·ªán ch·ªØ v√† ghi nh·ªõ nghƒ©a.</li>
                <li>S·ª≠ d·ª•ng c√°c n√∫t "üîä ƒê·ªçc c·∫£..." ƒë·ªÉ nghe to√†n b·ªô n·ªôi dung t·ª´ng ph·∫ßn.</li>
            </ul>
        </div>

        <!-- =================== B√ÄI GI·∫¢NG =================== -->
        <section id="giang-day">
            <div id="lecture-content">
                <h2><span class="chinese-text" data-sentence><span class="word">ËÆ≤</span><span class="word">Â∫ß</span></span> (B√†i gi·∫£ng)</h2>
                <p class="pinyin">(Ji«éngzu√≤)</p>
                
                <h3><span class="chinese-text" data-sentence><span class="word">‰∫∫</span><span class="word">Áß∞</span><span class="word">‰ª£</span><span class="word">ËØç</span></span> (ƒê·∫°i t·ª´ nh√¢n x∆∞ng)</h3>
                <p class="pinyin">(R√©nchƒìng d√†ic√≠)</p>
                
                <!-- PH·∫¶N ƒê√É C·∫¨P NH·∫¨T: B·∫¢NG ƒê·∫†I T·ª™ NH√ÇN X∆ØNG -->
                <table class="pronoun-table">
                    <thead>
                        <tr>
                            <th>Ng√¥i</th>
                            <th>S·ªë √çt</th>
                            <th>S·ªë Nhi·ªÅu</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th>Ng√¥i th·ª© 1</th>
                            <td>
                                <div class="chinese-text" data-sentence><span class="word">Êàë</span></div>
                                <span class="pinyin">(w«í)</span>
                                <span class="vietnamese">(t√¥i)</span>
                            </td>
                            <td>
                                <div class="chinese-text" data-sentence><span class="word">Êàë</span><span class="word">‰ª¨</span></div>
                                <span class="pinyin">(w«ímen)</span>
                                <span class="vietnamese">(ch√∫ng t√¥i)</span>
                            </td>
                        </tr>
                        <tr>
                            <th>Ng√¥i th·ª© 2</th>
                            <td>
                                <div class="chinese-text" data-sentence><span class="word">‰Ω†</span></div>
                                <span class="pinyin">(n«ê)</span>
                                <span class="vietnamese">(b·∫°n)</span>
                            </td>
                            <td>
                                <div class="chinese-text" data-sentence><span class="word">‰Ω†</span><span class="word">‰ª¨</span></div>
                                <span class="pinyin">(n«êmen)</span>
                                <span class="vietnamese">(c√°c b·∫°n)</span>
                            </td>
                        </tr>
                        <tr>
                            <th rowspan="2">Ng√¥i th·ª© 3</th>
                            <td>
                                <div class="chinese-text" data-sentence><span class="word">‰ªñ</span></div>
                                <span class="pinyin">(tƒÅ)</span>
                                <span class="vietnamese">(anh ·∫•y)</span>
                            </td>
                            <td>
                                <div class="chinese-text" data-sentence><span class="word">‰ªñ</span><span class="word">‰ª¨</span></div>
                                <span class="pinyin">(tƒÅmen)</span>
                                <span class="vietnamese">(h·ªç - nam/c·∫£ nam n·ªØ)</span>
                            </td>
                        </tr>
                        <tr>
                             <td>
                                <div class="chinese-text" data-sentence><span class="word">Â•π</span></div>
                                <span class="pinyin">(tƒÅ)</span>
                                <span class="vietnamese">(c√¥ ·∫•y)</span>
                            </td>
                            <td>
                                <div class="chinese-text" data-sentence><span class="word">Â•π</span><span class="word">‰ª¨</span></div>
                                <span class="pinyin">(tƒÅmen)</span>
                                <span class="vietnamese">(h·ªç - to√†n n·ªØ)</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <!-- K·∫æT TH√öC B·∫¢NG -->
                
                <div class="content-item">
                    <h3><span class="chinese-text" data-sentence><span class="word">Âä®</span><span class="word">ËØç</span> ‚Äú<span class="word">ÊòØ</span>‚Äù</span> (ƒê·ªông t·ª´ "sh√¨")</h3>
                    <p class="pinyin">(D√≤ngc√≠ ‚Äúsh√¨‚Äù)</p>
                    <p class="chinese-text" data-sentence><span class="word">Êàë</span><span class="word">ÊòØ</span><span class="word">Â≠¶</span><span class="word">Áîü„ÄÇ</span></p><p class="pinyin">(W«í sh√¨ xu√©shƒìng.)</p><p class="vietnamese">- T√¥i l√† h·ªçc sinh.</p>
                    <p class="chinese-text" data-sentence><span class="word">Êàë</span><span class="word">‰∏ç</span><span class="word">ÊòØ</span><span class="word">Â≠¶</span><span class="word">Áîü„ÄÇ</span></p><p class="pinyin">(W«í b√∫ sh√¨ xu√©shƒìng.)</p><p class="vietnamese">- T√¥i kh√¥ng ph·∫£i l√† h·ªçc sinh.</p>
                </div>
                
                <div class="content-item">
                    <h3><span class="chinese-text" data-sentence><span class="word">Áñë</span><span class="word">ÈóÆ</span><span class="word">Âä©</span><span class="word">ËØç</span> ‚Äú<span class="word">Âêó</span>‚Äù</span> (Tr·ª£ t·ª´ nghi v·∫•n "ma")</h3>
                    <p class="pinyin">(Y√≠w√®n zh√πc√≠ ‚Äúma‚Äù)</p>
                    <p class="chinese-text" data-sentence><span class="word">‰Ω†</span><span class="word">ÊòØ</span><span class="word">ËÄÅ</span><span class="word">Â∏à</span><span class="word">ÂêóÔºü</span></p><p class="pinyin">(N«ê sh√¨ l«éoshƒ´ ma?)</p><p class="vietnamese">- B·∫°n l√† gi√°o vi√™n ph·∫£i kh√¥ng?</p>
                </div>
            </div>
            <button class="read-aloud-btn" data-target="lecture-content">üîä ƒê·ªçc c·∫£ b√†i gi·∫£ng</button>
        </section>

        <!-- =================== H·ªòI THO·∫†I =================== -->
        <section id="hoi-thoai">
            <h2><span class="chinese-text" data-sentence><span class="word">‰ºö</span><span class="word">ËØù</span></span> (B√†i h·ªôi tho·∫°i)</h2>
            <p class="pinyin">(Hu√¨hu√†)</p>
            <div id="dialogue-container">
                <div class="content-item">
                    <p><strong>Â§ßÂç´ (David):</strong> <span class="chinese-text" data-sentence><span class="word">‰Ω†</span><span class="word">Â•ΩÔºÅ</span></span></p>
                    <p class="pinyin">(N«ê h«éo!)</p><p class="vietnamese">(Xin ch√†o!)</p>
                </div>
                <div class="content-item">
                    <p><strong>Áéõ‰∏Ω (Mary):</strong> <span class="chinese-text" data-sentence><span class="word">‰Ω†</span><span class="word">Â•ΩÔºÅ</span></span></p>
                    <p class="pinyin">(N«ê h«éo!)</p><p class="vietnamese">(Xin ch√†o!)</p>
                </div>
                <div class="content-item">
                    <p><strong>Â§ßÂç´ (David):</strong> <span class="chinese-text" data-sentence><span class="word">Êàë</span><span class="word">ÊòØ</span><span class="word">Â≠¶</span><span class="word">Áîü</span><span class="word">„ÄÇ</span><span class="word">‰Ω†</span><span class="word">ÊòØ</span><span class="word">Â≠¶</span><span class="word">Áîü</span><span class="word">ÂêóÔºü</span></span></p>
                    <p class="pinyin">(W«í sh√¨ xu√©shƒìng. N«ê sh√¨ xu√©shƒìng ma?)</p><p class="vietnamese">(T√¥i l√† h·ªçc sinh. B·∫°n l√† h·ªçc sinh ph·∫£i kh√¥ng?)</p>
                </div>
                <div class="content-item">
                    <p><strong>Áéõ‰∏Ω (Mary):</strong> <span class="chinese-text" data-sentence><span class="word">ÊòØ</span><span class="word">Ôºå</span><span class="word">Êàë</span><span class="word">‰πü</span><span class="word">ÊòØ</span><span class="word">Â≠¶</span><span class="word">Áîü</span><span class="word">„ÄÇ</span><span class="word">‰ªñ</span><span class="word">ÊòØ</span><span class="word">ËÄÅ</span><span class="word">Â∏à</span><span class="word">ÂêóÔºü</span></span></p>
                    <p class="pinyin">(Sh√¨, w«í yƒõ sh√¨ xu√©shƒìng. TƒÅ sh√¨ l«éoshƒ´ ma?)</p><p class="vietnamese">(Ph·∫£i, t√¥i c≈©ng l√† h·ªçc sinh. Anh ·∫•y l√† gi√°o vi√™n ph·∫£i kh√¥ng?)</p>
                </div>
                 <div class="content-item">
                    <p><strong>Â§ßÂç´ (David):</strong> <span class="chinese-text" data-sentence><span class="word">‰∏ç</span><span class="word">Ôºå</span><span class="word">‰ªñ</span><span class="word">‰∏ç</span><span class="word">ÊòØ</span><span class="word">ËÄÅ</span><span class="word">Â∏à</span><span class="word">Ôºå</span><span class="word">‰ªñ</span><span class="word">ÊòØ</span><span class="word">Âåª</span><span class="word">Áîü„ÄÇ</span></span></p>
                     <p class="pinyin">(B√π, tƒÅ b√∫ sh√¨ l«éoshƒ´, tƒÅ sh√¨ yƒ´shƒìng.)</p><p class="vietnamese">(Kh√¥ng, anh ·∫•y kh√¥ng ph·∫£i gi√°o vi√™n, anh ·∫•y l√† b√°c sƒ©.)</p>
                </div>
            </div>
            <button class="read-aloud-btn" data-target="dialogue-container">üîä ƒê·ªçc c·∫£ h·ªôi tho·∫°i</button>
        </section>
        
        <!-- =================== B√ÄI T·∫¨P =================== -->
        <section id="bai-tap">
            <h2><span class="chinese-text" data-sentence><span class="word">ÁªÉ</span><span class="word">‰π†</span></span> (B√†i t·∫≠p)</h2>
            <p class="pinyin">(Li√†nx√≠)</p>
            <ol>
                <li>T√¥i l√† gi√°o vi√™n.</li>
                <li>B·∫°n kh√¥ng ph·∫£i l√† b√°c sƒ©.</li>
                <li>Anh ·∫•y l√† h·ªçc sinh ph·∫£i kh√¥ng?</li>
            </ol>
            <button id="toggle-answers-btn">Hi·ªán ƒë√°p √°n</button>
            <div class="answers">
                <div id="answers-container">
                    <h4>ƒê√°p √°n</h4>
                    <ol>
                        <li class="content-item">
                            <p class="chinese-text" data-sentence><span class="word">Êàë</span><span class="word">ÊòØ</span><span class="word">ËÄÅ</span><span class="word">Â∏à„ÄÇ</span></p>
                            <p class="pinyin">(W«í sh√¨ l«éoshƒ´.)</p>
                        </li>
                        <li class="content-item">
                            <p class="chinese-text" data-sentence><span class="word">‰Ω†</span><span class="word">‰∏ç</span><span class="word">ÊòØ</span><span class="word">Âåª</span><span class="word">Áîü„ÄÇ</span></p>
                            <p class="pinyin">(N«ê b√∫ sh√¨ yƒ´shƒìng.)</p>
                        </li>
                        <li class="content-item">
                            <p class="chinese-text" data-sentence><span class="word">‰ªñ</span><span class="word">ÊòØ</span><span class="word">Â≠¶</span><span class="word">Áîü</span><span class="word">ÂêóÔºü</span></p>
                            <p class="pinyin">(TƒÅ sh√¨ xu√©shƒìng ma?)</p>
                        </li>
                    </ol>
                </div>
                <button class="read-aloud-btn" data-target="answers-container">üîä ƒê·ªçc c·∫£ ƒë√°p √°n</button>
            </div>
        </section>

    </div>

    <!-- PH·∫¶N JAVASCRIPT ƒê∆Ø·ª¢C NH√öNG TR·ª∞C TI·∫æP -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            if (!('speechSynthesis' in window)) {
                alert("Xin l·ªói, tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ch·ª©c nƒÉng ƒë·ªçc vƒÉn b·∫£n.");
                return;
            }

            const synth = window.speechSynthesis;
            const utterance = new SpeechSynthesisUtterance();
            utterance.lang = 'zh-CN';
            utterance.rate = 0.9;
            utterance.pitch = 1;

            function speak(textToSpeak) {
                if (synth.speaking) {
                    synth.cancel();
                }
                utterance.text = textToSpeak;
                synth.speak(utterance);
            }

            function setupInteractiveElements() {
                 // G·∫Øn s·ª± ki·ªán click cho t·ª´ng T·ª™
                document.querySelectorAll('.chinese-text .word').forEach(span => {
                    span.addEventListener('click', (event) => {
                        event.stopPropagation();
                        speak(event.target.textContent);
                    });
                });

                // G·∫Øn s·ª± ki·ªán click cho c·∫£ C√ÇU/C·ª§M T·ª™
                document.querySelectorAll('.chinese-text[data-sentence]').forEach(container => {
                    container.setAttribute('title', 'B·∫•m ƒë·ªÉ nghe c·∫£ c·ª•m');
                    container.addEventListener('click', (event) => {
                        // L·∫•y text t·ª´ ch√≠nh ph·∫ßn t·ª≠ ƒë∆∞·ª£c click, kh√¥ng bao g·ªìm Pinyin hay D·ªãch
                        speak(event.currentTarget.textContent);
                    });
                });
            }
           
            setupInteractiveElements();

            // Ch·ª©c nƒÉng ·∫®N/HI·ªÜN CHI TI·∫æT
            const toggleDetailsBtn = document.getElementById('toggle-details-btn');
            const mainContainer = document.querySelector('.container');
            toggleDetailsBtn.addEventListener('click', () => {
                mainContainer.classList.toggle('details-hidden'); 
                const isHidden = mainContainer.classList.contains('details-hidden');
                toggleDetailsBtn.textContent = isHidden ? 'Hi·ªán Chi Ti·∫øt' : '·∫®n Chi Ti·∫øt';
            });
            
            // Ch·ª©c nƒÉng ƒê·ªåC C·∫¢ ƒêO·∫†N
            document.querySelectorAll('.read-aloud-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.target;
                    const container = document.getElementById(targetId);
                    if (!container) return;

                    const chineseTexts = container.querySelectorAll('.chinese-text[data-sentence]');
                    const fullText = Array.from(chineseTexts)
                                          .map(el => el.textContent.trim()) // D√πng textContent ƒë·ªÉ ch·ªâ l·∫•y ch·ªØ H√°n
                                          .join('Ôºå '); 

                    speak(fullText);
                });
            });

            // X·ª≠ l√Ω n√∫t hi·ªán/·∫©n ƒë√°p √°n
            const toggleAnswersBtn = document.getElementById('toggle-answers-btn');
            const answersDiv = document.querySelector('.answers');
            if (toggleAnswersBtn && answersDiv) {
                toggleAnswersBtn.addEventListener('click', () => {
                    const isVisible = answersDiv.classList.toggle('visible');
                    toggleAnswersBtn.textContent = isVisible ? '·∫®n ƒë√°p √°n' : 'Hi·ªán ƒë√°p √°n';
                });
            }
        });
    </script>

</body>
</html>